
<ect-demo-nav>

  <img ectDemoNavImage ngSrc="https://www.ect-telecoms.com/wp-content/uploads/2021/10/ect-logo-white.svg" width="1" height="1" alt="ECT logo" />

  <ect-demo-nav-text>Repeater Template Demo</ect-demo-nav-text>

</ect-demo-nav>

<p class="host--description">
  This page implements a reusable <strong>repeater</strong> component that renders its projected
  template once for every element of the input array passed via
  <code>[option]</code>. The projected template receives the current item as
  <code>item</code> (via <code>let-item</code>), matching the requirement in the prompt.
  Below, we bind <code>[option]</code> to <code>pokemonLegendaryApi.legendaries$ | async</code>
  and project a template that displays each entry using the
  <code>&lt;ect-pokemon-card&gt;</code>.
</p>

@defer (on viewport; prefetch on hover) {

  @if (pokemon()?.length === 0) {
    <p>No results found.</p>
  }
  @if (!pokemon()) {
    <p>Fetching results ...</p>
  } @else {
    <repeater class="host--card-grid" [option]="pokemon() ?? []">
      <ng-template let-item>
        <ect-pokemon-card [pokemon]="item" gradientPurple></ect-pokemon-card>
      </ng-template>
    </repeater>
  }

} @placeholder {
  <p>Fetching results ...</p>
} @loading {
  <p>Loading results ...</p>
}
